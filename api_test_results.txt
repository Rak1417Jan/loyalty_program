[2025-12-23 19:26:10] [INFO] 
================================================================================
[2025-12-23 19:26:10] [INFO]   1. SYSTEM HEALTH TESTS
[2025-12-23 19:26:10] [INFO] ================================================================================
[2025-12-23 19:26:10] [INFO] 
[SH-001] Get API root information
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: {
  "name": "Gaming Loyalty & Reward Program",
  "version": "1.0.0",
  "status": "running"
}
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[SH-002] Health check endpoint
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/health
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: {
  "status": "healthy"
}
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
================================================================================
[2025-12-23 19:26:10] [INFO]   2. PLAYER MANAGEMENT TESTS
[2025-12-23 19:26:10] [INFO] ================================================================================
[2025-12-23 19:26:10] [INFO] 
[PM-001] Create new player
[2025-12-23 19:26:10] [INFO]   Method: POST
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/players
[2025-12-23 19:26:10] [INFO]   Request Body: {
  "player_id": "TEST_PLAYER_20251223_192610",
  "email": "TEST_PLAYER_20251223_192610@example.com",
  "name": "Test Player"
}
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: {
  "player_id": "TEST_PLAYER_20251223_192610",
  "email": "TEST_PLAYER_20251223_192610@example.com",
  "name": "Test Player",
  "segment": "NEW",
  "tier": "BRONZE",
  "risk_score": 0,
  "is_active": true,
  "is_blocked": false,
  "created_at": "2025-12-23T13:56:10",
  "last_activity_at": null,
  "metrics": {
    "total_deposited": 0.0,
    "total_wagered": 0.0,
    "total_won": 0.0,
    "net_pnl": 0.0,
    "total_sessions": 0,
    "total_playtime_hours": 0.0,
    "win_loss_ratio": 0.0,
    "bonus_abuse_score": 0
  },
  "balances": {
    "lp_balance": 0.0,
    "rp_balance": 0.0,
    "bonus_balance": 0.0,
    "tickets_balance": 0,
    "bonus_wagering_required": 0.0,
    "bonus_wagering_completed": 0.0,
    "bonus_expiry": null
  }
}
[2025-12-23 19:26:10] [ERROR]   ❌ FAILED - Expected 201, got 200
[2025-12-23 19:26:10] [INFO] 
[PM-002] Get player details
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/players/TEST_PLAYER_20251223_192610
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: {
  "player_id": "TEST_PLAYER_20251223_192610",
  "email": "TEST_PLAYER_20251223_192610@example.com",
  "name": "Test Player",
  "segment": "NEW",
  "tier": "BRONZE",
  "risk_score": 0,
  "is_active": true,
  "is_blocked": false,
  "created_at": "2025-12-23T13:56:10",
  "last_activity_at": null,
  "metrics": {
    "total_deposited": 0.0,
    "total_wagered": 0.0,
    "total_won": 0.0,
    "net_pnl": 0.0,
    "total_sessions": 0,
    "total_playtime_hours": 0.0,
    "win_loss_ratio": 0.0,
    "bonus_abuse_score": 0
  },
  "balances": {
    "lp_balance": 0.0,
    "rp_balance": 0.0,
    "bonus_balance": 0.0,
    "tickets_balance": 0,
    "bonus_wagering_required": 0.0,
    "bonus_wagering_completed": 0.0,
    "bonus_expiry": null
  }
}
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[PM-003] List all players
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/players
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: [
  {
    "player_id": "P001",
    "email": "player1@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 500.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P002",
    "email": "player2@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 100.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P003",
    "email": "player3@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 1000.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P004",
    "email": "player4@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 50.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P005",
    "email": "player5@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 2000.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P006",
    "email": "player6@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 200.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P007",
    "email": "player7@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 800.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P008",
    "email": "player8@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 30.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P009",
    "email": "player9@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 1500.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P010",
    "email": "player10@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 150.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "TEST_PLAYER_20251223_192610",
    "email": "TEST_PLAYER_20251223_192610@example.com",
    "name": "Test Player",
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:56:10",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 0.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  }
]
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[PM-004] List players filtered by segment
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/players
[2025-12-23 19:26:10] [INFO]   Params: {
  "segment": "NEW"
}
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: [
  {
    "player_id": "P001",
    "email": "player1@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 500.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P002",
    "email": "player2@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 100.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P003",
    "email": "player3@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 1000.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P004",
    "email": "player4@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 50.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P005",
    "email": "player5@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 2000.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P006",
    "email": "player6@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 200.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P007",
    "email": "player7@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 800.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P008",
    "email": "player8@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 30.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P009",
    "email": "player9@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 1500.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P010",
    "email": "player10@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 150.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "TEST_PLAYER_20251223_192610",
    "email": "TEST_PLAYER_20251223_192610@example.com",
    "name": "Test Player",
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:56:10",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 0.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  }
]
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[PM-005] List players with pagination
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/players
[2025-12-23 19:26:10] [INFO]   Params: {
  "skip": 0,
  "limit": 10
}
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: [
  {
    "player_id": "P001",
    "email": "player1@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 500.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P002",
    "email": "player2@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 100.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P003",
    "email": "player3@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 1000.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P004",
    "email": "player4@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 50.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P005",
    "email": "player5@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 2000.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P006",
    "email": "player6@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 200.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P007",
    "email": "player7@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 800.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P008",
    "email": "player8@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 30.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P009",
    "email": "player9@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 1500.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P010",
    "email": "player10@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 150.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  }
]
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[PM-006] Update player information
[2025-12-23 19:26:10] [INFO]   Method: PUT
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/players/TEST_PLAYER_20251223_192610
[2025-12-23 19:26:10] [INFO]   Request Body: {
  "email": "updated_TEST_PLAYER_20251223_192610@example.com",
  "name": "Updated Test Player"
}
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: {
  "player_id": "TEST_PLAYER_20251223_192610",
  "email": "updated_TEST_PLAYER_20251223_192610@example.com",
  "name": "Updated Test Player",
  "segment": "NEW",
  "tier": "BRONZE",
  "risk_score": 0,
  "is_active": true,
  "is_blocked": false,
  "created_at": "2025-12-23T13:56:10",
  "last_activity_at": null,
  "metrics": {
    "total_deposited": 0.0,
    "total_wagered": 0.0,
    "total_won": 0.0,
    "net_pnl": 0.0,
    "total_sessions": 0,
    "total_playtime_hours": 0.0,
    "win_loss_ratio": 0.0,
    "bonus_abuse_score": 0
  },
  "balances": {
    "lp_balance": 0.0,
    "rp_balance": 0.0,
    "bonus_balance": 0.0,
    "tickets_balance": 0,
    "bonus_wagering_required": 0.0,
    "bonus_wagering_completed": 0.0,
    "bonus_expiry": null
  }
}
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[PM-007] Get non-existent player (negative test)
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/players/NONEXISTENT_PLAYER
[2025-12-23 19:26:10] [INFO]   Status Code: 404
[2025-12-23 19:26:10] [INFO]   Response: {
  "detail": "Player not found"
}
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[PM-008] Create duplicate player (negative test)
[2025-12-23 19:26:10] [INFO]   Method: POST
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/players
[2025-12-23 19:26:10] [INFO]   Request Body: {
  "player_id": "TEST_PLAYER_20251223_192610",
  "email": "duplicate@example.com"
}
[2025-12-23 19:26:10] [INFO]   Status Code: 400
[2025-12-23 19:26:10] [INFO]   Response: {
  "detail": "Player already exists"
}
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
================================================================================
[2025-12-23 19:26:10] [INFO]   3. REWARD RULES TESTS
[2025-12-23 19:26:10] [INFO] ================================================================================
[2025-12-23 19:26:10] [INFO] 
[RR-001] Create new reward rule
[2025-12-23 19:26:10] [INFO]   Method: POST
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/rules
[2025-12-23 19:26:10] [INFO]   Request Body: {
  "rule_id": "TEST_RULE_20251223_192610",
  "name": "Test Cashback Rule",
  "description": "Test rule for API testing",
  "priority": 100,
  "is_active": true,
  "conditions": {
    "segment": "LOSING",
    "net_loss_min": 100
  },
  "reward_config": {
    "type": "BONUS_BALANCE",
    "formula": "net_loss * 0.10",
    "max_amount": 500,
    "wagering_requirement": 10
  }
}
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: {
  "rule_id": "TEST_RULE_20251223_192610",
  "name": "Test Cashback Rule",
  "description": "Test rule for API testing",
  "priority": 100,
  "is_active": true,
  "conditions": {
    "segment": "LOSING",
    "net_loss_min": 100
  },
  "reward_config": {
    "type": "BONUS_BALANCE",
    "formula": "net_loss * 0.10",
    "max_amount": 500,
    "wagering_requirement": 10
  },
  "created_at": "2025-12-23T13:56:10",
  "updated_at": null
}
[2025-12-23 19:26:10] [ERROR]   ❌ FAILED - Expected 201, got 200
[2025-12-23 19:26:10] [INFO] 
[RR-002] Get rule details
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/rules/TEST_RULE_20251223_192610
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: {
  "rule_id": "TEST_RULE_20251223_192610",
  "name": "Test Cashback Rule",
  "description": "Test rule for API testing",
  "priority": 100,
  "is_active": true,
  "conditions": {
    "segment": "LOSING",
    "net_loss_min": 100
  },
  "reward_config": {
    "type": "BONUS_BALANCE",
    "formula": "net_loss * 0.10",
    "max_amount": 500,
    "wagering_requirement": 10
  },
  "created_at": "2025-12-23T13:56:10",
  "updated_at": null
}
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[RR-003] List all reward rules
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/rules
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: [
  {
    "rule_id": "TEST_RULE_20251223_192610",
    "name": "Test Cashback Rule",
    "description": "Test rule for API testing",
    "priority": 100,
    "is_active": true,
    "conditions": {
      "segment": "LOSING",
      "net_loss_min": 100
    },
    "reward_config": {
      "type": "BONUS_BALANCE",
      "formula": "net_loss * 0.10",
      "max_amount": 500,
      "wagering_requirement": 10
    },
    "created_at": "2025-12-23T13:56:10",
    "updated_at": null
  }
]
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[RR-004] List active rules only
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/rules
[2025-12-23 19:26:10] [INFO]   Params: {
  "is_active": true
}
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: [
  {
    "rule_id": "TEST_RULE_20251223_192610",
    "name": "Test Cashback Rule",
    "description": "Test rule for API testing",
    "priority": 100,
    "is_active": true,
    "conditions": {
      "segment": "LOSING",
      "net_loss_min": 100
    },
    "reward_config": {
      "type": "BONUS_BALANCE",
      "formula": "net_loss * 0.10",
      "max_amount": 500,
      "wagering_requirement": 10
    },
    "created_at": "2025-12-23T13:56:10",
    "updated_at": null
  }
]
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[RR-005] Update reward rule
[2025-12-23 19:26:10] [INFO]   Method: PUT
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/rules/TEST_RULE_20251223_192610
[2025-12-23 19:26:10] [INFO]   Request Body: {
  "priority": 150,
  "is_active": false
}
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: {
  "rule_id": "TEST_RULE_20251223_192610",
  "name": "Test Cashback Rule",
  "description": "Test rule for API testing",
  "priority": 150,
  "is_active": false,
  "conditions": {
    "segment": "LOSING",
    "net_loss_min": 100
  },
  "reward_config": {
    "type": "BONUS_BALANCE",
    "formula": "net_loss * 0.10",
    "max_amount": 500,
    "wagering_requirement": 10
  },
  "created_at": "2025-12-23T13:56:10",
  "updated_at": "2025-12-23T13:56:10"
}
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[RR-007] Get non-existent rule (negative test)
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/rules/NONEXISTENT_RULE
[2025-12-23 19:26:10] [INFO]   Status Code: 404
[2025-12-23 19:26:10] [INFO]   Response: {
  "detail": "Rule not found"
}
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
================================================================================
[2025-12-23 19:26:10] [INFO]   4. TIER MANAGEMENT TESTS
[2025-12-23 19:26:10] [INFO] ================================================================================
[2025-12-23 19:26:10] [INFO] 
[TM-001] List all tiers
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/tiers
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: []
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[TM-002] Create new tier (may fail if exists)
[2025-12-23 19:26:10] [INFO]   Method: POST
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/tiers
[2025-12-23 19:26:10] [INFO]   Request Body: {
  "tier_level": "GOLD",
  "lp_min": 10000,
  "lp_max": 49999,
  "benefits": {
    "cashback_multiplier": 1.5,
    "free_plays_per_month": 10
  }
}
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: {
  "tier_level": "GOLD",
  "lp_min": 10000,
  "lp_max": 49999,
  "benefits": {
    "cashback_multiplier": 1.5,
    "free_plays_per_month": 10
  },
  "id": 1,
  "created_at": "2025-12-23T13:56:10"
}
[2025-12-23 19:26:10] [ERROR]   ❌ FAILED - Expected 201, got 200
[2025-12-23 19:26:10] [INFO] 
================================================================================
[2025-12-23 19:26:10] [INFO]   5. WALLET OPERATIONS TESTS
[2025-12-23 19:26:10] [INFO] ================================================================================
[2025-12-23 19:26:10] [WARNING] Skipping wallet tests - no test player created
[2025-12-23 19:26:10] [INFO] 
================================================================================
[2025-12-23 19:26:10] [INFO]   6. ANALYTICS & REPORTING TESTS
[2025-12-23 19:26:10] [INFO] ================================================================================
[2025-12-23 19:26:10] [INFO] 
[AN-001] Get dashboard metrics
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/analytics/dashboard
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: {
  "total_players": 11,
  "active_players": 11,
  "total_rewards_issued": 0,
  "total_reward_cost": 0.0,
  "segment_distribution": [
    {
      "segment": "NEW",
      "count": 11,
      "percentage": 100.0
    }
  ]
}
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[AN-002] Get reward history (all)
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/analytics/rewards
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: []
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[AN-004] Get active rewards only
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/analytics/rewards
[2025-12-23 19:26:10] [INFO]   Params: {
  "status": "ACTIVE"
}
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: []
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
================================================================================
[2025-12-23 19:26:10] [INFO]   7. EDGE CASES & ERROR HANDLING TESTS
[2025-12-23 19:26:10] [INFO] ================================================================================
[2025-12-23 19:26:10] [INFO] 
[EC-001] Invalid segment filter (negative test)
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/players
[2025-12-23 19:26:10] [INFO]   Params: {
  "segment": "INVALID_SEGMENT"
}
[2025-12-23 19:26:10] [INFO]   Status Code: 422
[2025-12-23 19:26:10] [INFO]   Response: {
  "detail": [
    {
      "type": "enum",
      "loc": [
        "query",
        "segment"
      ],
      "msg": "Input should be 'NEW', 'WINNING', 'BREAKEVEN', 'LOSING' or 'VIP'",
      "input": "INVALID_SEGMENT",
      "ctx": {
        "expected": "'NEW', 'WINNING', 'BREAKEVEN', 'LOSING' or 'VIP'"
      }
    }
  ]
}
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[EC-002] Invalid tier filter (negative test)
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/players
[2025-12-23 19:26:10] [INFO]   Params: {
  "tier": "INVALID_TIER"
}
[2025-12-23 19:26:10] [INFO]   Status Code: 422
[2025-12-23 19:26:10] [INFO]   Response: {
  "detail": [
    {
      "type": "enum",
      "loc": [
        "query",
        "tier"
      ],
      "msg": "Input should be 'BRONZE', 'SILVER', 'GOLD' or 'PLATINUM'",
      "input": "INVALID_TIER",
      "ctx": {
        "expected": "'BRONZE', 'SILVER', 'GOLD' or 'PLATINUM'"
      }
    }
  ]
}
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[EC-003] Create player without player_id (negative test)
[2025-12-23 19:26:10] [INFO]   Method: POST
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/players
[2025-12-23 19:26:10] [INFO]   Request Body: {
  "email": "test@example.com"
}
[2025-12-23 19:26:10] [INFO]   Status Code: 422
[2025-12-23 19:26:10] [INFO]   Response: {
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "player_id"
      ],
      "msg": "Field required",
      "input": {
        "email": "test@example.com"
      },
      "url": "https://errors.pydantic.dev/2.5/v/missing"
    }
  ]
}
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[EC-004] Very large pagination limit
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/players
[2025-12-23 19:26:10] [INFO]   Params: {
  "limit": 10000
}
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: [
  {
    "player_id": "P001",
    "email": "player1@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 500.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P002",
    "email": "player2@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 100.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P003",
    "email": "player3@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 1000.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P004",
    "email": "player4@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 50.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P005",
    "email": "player5@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 2000.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P006",
    "email": "player6@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 200.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P007",
    "email": "player7@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 800.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P008",
    "email": "player8@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 30.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P009",
    "email": "player9@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 1500.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P010",
    "email": "player10@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 150.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "TEST_PLAYER_20251223_192610",
    "email": "updated_TEST_PLAYER_20251223_192610@example.com",
    "name": "Updated Test Player",
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:56:10",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 0.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  }
]
[2025-12-23 19:26:10] [SUCCESS]   ✅ PASSED
[2025-12-23 19:26:10] [INFO] 
[EC-005] Negative pagination skip
[2025-12-23 19:26:10] [INFO]   Method: GET
[2025-12-23 19:26:10] [INFO]   URL: http://localhost:8001/api/players
[2025-12-23 19:26:10] [INFO]   Params: {
  "skip": -1
}
[2025-12-23 19:26:10] [INFO]   Status Code: 200
[2025-12-23 19:26:10] [INFO]   Response: [
  {
    "player_id": "P001",
    "email": "player1@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 500.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P002",
    "email": "player2@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 100.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P003",
    "email": "player3@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:33",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 1000.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P004",
    "email": "player4@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 50.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P005",
    "email": "player5@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 2000.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P006",
    "email": "player6@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 200.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P007",
    "email": "player7@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 800.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P008",
    "email": "player8@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 30.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P009",
    "email": "player9@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 1500.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "P010",
    "email": "player10@example.com",
    "name": null,
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:32:34",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 150.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  },
  {
    "player_id": "TEST_PLAYER_20251223_192610",
    "email": "updated_TEST_PLAYER_20251223_192610@example.com",
    "name": "Updated Test Player",
    "segment": "NEW",
    "tier": "BRONZE",
    "risk_score": 0,
    "is_active": true,
    "is_blocked": false,
    "created_at": "2025-12-23T13:56:10",
    "last_activity_at": null,
    "metrics": {
      "total_deposited": 0.0,
      "total_wagered": 0.0,
      "total_won": 0.0,
      "net_pnl": 0.0,
      "total_sessions": 0,
      "total_playtime_hours": 0.0,
      "win_loss_ratio": 0.0,
      "bonus_abuse_score": 0
    },
    "balances": {
      "lp_balance": 0.0,
      "rp_balance": 0.0,
      "bonus_balance": 0.0,
      "tickets_balance": 0,
      "bonus_wagering_required": 0.0,
      "bonus_wagering_completed": 0.0,
      "bonus_expiry": null
    }
  }
]
[2025-12-23 19:26:10] [ERROR]   ❌ FAILED - Expected 422, got 200
[2025-12-23 19:26:10] [INFO] 
================================================================================
[2025-12-23 19:26:10] [INFO]   TEST SUMMARY
[2025-12-23 19:26:10] [INFO] ================================================================================
[2025-12-23 19:26:10] [INFO] 
Total Tests: 26
[2025-12-23 19:26:10] [INFO] Passed: 22 ✅
[2025-12-23 19:26:10] [INFO] Failed: 4 ❌
[2025-12-23 19:26:10] [INFO] Pass Rate: 84.62%
[2025-12-23 19:26:10] [WARNING] 
Failed Tests:
[2025-12-23 19:26:10] [ERROR]   - [PM-001] Create new player
[2025-12-23 19:26:10] [ERROR]   - [RR-001] Create new reward rule
[2025-12-23 19:26:10] [ERROR]   - [TM-002] Create new tier (may fail if exists)
[2025-12-23 19:26:10] [ERROR]   - [EC-005] Negative pagination skip
[2025-12-23 19:26:10] [INFO] 
Test completed at: 2025-12-23 19:26:10
[2025-12-23 19:26:10] [INFO] Results saved to: api_test_results.txt
[2025-12-23 19:26:10] [INFO] ================================================================================
[2025-12-23 19:26:10] [INFO] 
================================================================================
[2025-12-23 19:26:10] [INFO]   CLEANUP
[2025-12-23 19:26:10] [INFO] ================================================================================
